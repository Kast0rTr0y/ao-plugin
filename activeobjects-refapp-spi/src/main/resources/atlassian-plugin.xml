<atlassian-plugin key="com.atlassian.activeobjects.refapp.spi"
                  name="Refapp Active Objects SPI implementation" system="false" pluginsVersion="2">
    <plugin-info>
        <description>A plugin that provides the DataSourceProvider service</description>
        <vendor name="Atlassian Software Systems" url="http://www.atlassian.com"/>
        <version>${project.version}</version>
    </plugin-info>

    <component key="tenantAwareDataSourceProvider" class="com.atlassian.activeobjects.refapp.RefappTenantAwareDataSourceProvider" name="Tenant Aware Data Source Provider" public="true">
        <interface>com.atlassian.activeobjects.spi.TenantAwareDataSourceProvider</interface>
    </component>

    <component name="Refapp Data Source" key="refapp-datasource"
               class="com.atlassian.activeobjects.refapp.RefappDataSource" public="false">
        <interface>javax.sql.DataSource</interface>
    </component>

    <component key="aoSynchronizationManager" class="com.atlassian.activeobjects.spi.NoOpTransactionSynchronisationManager" name="Synchonisation Manager" public="true">
        <interface>com.atlassian.activeobjects.spi.TransactionSynchronisationManager</interface>
    </component>

    <component-import key="connectionProvider" interface="com.atlassian.refapp.api.ConnectionProvider"/>

    <component-import key="tenantContext" interface="com.atlassian.tenancy.api.TenantContext" name="Tenant Context"/>

</atlassian-plugin>
